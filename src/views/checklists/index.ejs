<%- include('../layouts/header.ejs', { title: 'Task List'}) %>

<%- include('../layouts/menu.ejs') %>

<section class="section">
  <div class="container">
    <div class="columns">
      <div class="column is-four-fifths">
        <h1 class="title size-4">Tasks List</h1>
      </div>
      <div class="column is-one-fifth">
        <a href="/checklists/create" class="button is-success is-small">New task list</a>
      </div>
    </div>

    <div class="columns is-multiline">
      <% checklist.forEach(checklist => { %>
      <div class="column is-one-quarter">
        <div class="card has-background-white-ter">
          <div class="card-content">
            <p class="subtitle is-size-5">
              <%= checklist.name %>
            </p>
            <p class="subtitle is-size-6">
              <%= checklist.tasks.length %> tasks
            </p>
          </div>
          <footer class="card-footer">
            <p class="card-footer-item">
              <span>
                <a href="/checklists/<%= checklist._id %>">See</a>
              </span>
            </p>
            <p class="card-footer-item">
              <span>
                <a href="/checklists/edit/<%= checklist._id %>">Edit</a>
              </span>
            </p>
            <p class="card-footer-item">
              <span>
                <a href="/checklists/<%= checklist._id %>/?_method=delete" class="has-text-danger">Delete</a>
              </span>
            </p>
          </footer>
        </div>
      </div>
      <% }) %>

    </div>
  </div>
</section>

<%- include('../layouts/footer.ejs') %>